Vue.use(VueTelInputVuetify,{vuetify:vuetify});let vm=new Vue({vuetify:vuetify,el:"#app-container",data:{tab:null,nav_tab:null,loading:!1,save_loading:!1,birthdate_modal:!1,valid:!1,alert:!1,alert_type:"",alert_message:"",telephone:"",notifications:[],states:[],country_states:[],countries:[],validations:validations,gender:[{text:"Hombre",value:"M"},{text:"Mujer",value:"F"},{text:"Prefiero no especificar",value:"N"}],degrees:["Ortopedia","Neurocirugía","Cirugía de Columna","Radiología","Radiología","Dolor/Cuidado Paliativos","Reumatología","Infectología","Otros"],resident_levels:["Residente de 1er año","Residente de 2do año","Residente de 3er año","Residente de 4to año"],form:{username:"",first_name:"",last_name:"",avatar:"",last_name:"",birthdate:"",gender:"",user_type:"",email:"",country_selected:"",state_selected:"",password:"",password_confirm:"",meta:{student_type:"student",become_teacher:0}},defaultItem:{username:"",first_name:"",last_name:"",avatar:"",last_name:"",birthdate:"",gender:"",user_type:"",email:"",country_selected:"",state_selected:"",password:"",password_confirm:"",meta:{student_type:"student",become_teacher:0}},valid:!0},computed:{},created(){check_google_user(),this.loadCountries(),this.initialize()},mounted(){},methods:{initialize(){var e=this;e.loading=!0;var t=api_url+"members/get/"+uid;e.$http.get(t).then(t=>{t.body.length>0&&(e.form=Object.assign({},t.body[0]),e.form.user_id=uid,e.form.meta=e.form.meta.length<=0?{}:e.form.meta),e.loading=!1},t=>{e.loading=!1})},validate(){return this.$refs.form.validate()},loadCountries(){this.$http.get(domain+"/countries.min.json").then(e=>{this.countries=e.body.countries},e=>{}),this.$http.get(domain+"/states.min.json").then(e=>{this.states=e.body.states},e=>{})},filterStates(){var e=this.states,t=this.form.country_selected,a=e.filter(e=>e.id_country==t);return this.country_states=a},getCountryName(){var e=this,t=e.countries,a=e.form.country_selected,r=t.filter(e=>e.id==a);return e.form.meta.country=r[0].name},getStateName(){var e=this,t=e.states,a=e.form.state_selected,r=t.filter(e=>e.id==a);return e.form.meta.state=r[0].name},getLocation(){this.getCountryName(),this.getStateName()},getInput(e,t){this.telephone=t.number.international},save(){var e=this;if(e.alert=!1,e.validate(),e.validate()){e.save_loading=!0;var t=api_url+"members/complete-register";"medicine_teacher"==e.form.meta.student_type&&(e.form.meta.become_teacher=1),e.form.meta.telephone=e.telephone,e.$http.post(t,e.form).then(t=>{e.alert=!0,e.alert_type=t.body.status,e.alert_message=t.body.message,"success"==t.body.status&&(window.location=domain),e.save_loading=!1},t=>{e.alert=!0,e.alert_type="error",e.alert_message="Error inesperado, intenta de nuevo",e.save_loading=!1})}else e.valid=!1},checkPasswords(){var e=this;return e.form.password_confirm==e.form.password}}});
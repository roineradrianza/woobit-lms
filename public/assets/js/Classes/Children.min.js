class Children{constructor({uid:e=""}){this.uid=e,this.alert=!0,this.alert_type="",this.alert_message="",this.dialog=!1,this.delete_dialog=!1,this.loading=!1,this.form=!0,this.child={first_name:"",last_name:"",gender:"",birthdate:moment().format("YYYY-MM-DD")},this.default={first_name:"",last_name:"",gender:"",user_id:this.uid,birthdate:moment().format("YYYY-MM-DD")},this.index=-1,this.items=[]}reset(){this.loading=!1,this.alert=!1,this.child=Object.assign({},this.default),this.index=-1}load(){var e=this,t=api_url+"children/get/"+this.uid;e.loading=!0,Http.get(t).then(t=>{t.length>0&&(e.items=t),e.loading=!1},t=>{e.response({type:"error"})})}save(){var e=this;if(e.active=!1,e.loading=!0,e.index>=0){var t=api_url+"children/update";Http.put(t,e.child).then(t=>{e.response(t.status,t.message),"success"==t.status&&(e.items[e.index]=Object.assign({},e.child)),e.dialog=!1,e.reset()},t=>{e.response("error")})}else{t=api_url+"children/create";Http.post(t,e.child).then(t=>{e.response(t.status,t.message),"success"==t.status&&(e.child.children_id=t.data.id,e.items.push(e.child)),e.dialog=!1,e.reset()},t=>{e.response("error")})}}delete(){var e=this;e.active=!1,e.loading=!0;var t=api_url+"children/delete";Http.delete(t,e.child).then(t=>{e.response(t.status,t.message),"success"==t.status&&(e.items.splice(1,e.index),e.delete_dialog=!1,e.reset())},t=>{e.response("error")})}response(e="",t=""){this.loading=!1,this.alert=!0,this.alert_type=e,this.alert_message="error"==e&&""==t?"A apărut o eroare neașteptată, vă rugăm să încercați din nou.":t}editDialog(e){this.child=Object.assign({},e),this.index=this.items.indexOf(e),this.dialog=!0}deleteDialog(e){this.child=Object.assign({},e),this.index=this.items.indexOf(e),this.delete_dialog=!0}getAge(e){return moment().diff(e,"years")}}
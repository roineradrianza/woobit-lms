const splitted_domain=window.location.href.split("/"),course_slug=splitted_domain[4],lesson_id=splitted_domain[5],timezone=moment.tz.guess();Vue.component(VueCountdown.name,VueCountdown),moment.locale("es");let vm=new Vue({vuetify:vuetify,el:"#full-learning-container",data:{drawer:!1,tab:null,nav_tab:null,loading:!1,join_loading:!1,skills_container:!1,resource_preview_dialog:!1,resource_preview_loading:!0,certified_approved_dialog:!1,certified_loading:!1,certified_url:"",requireCertifiedPaid:!1,selection:1,zoom_countdown:1e3,countdown_container:{},show_button:!1,zoom_link:!1,meta:{},notifications:[],resources:[],resource_preview:{}},computed:{ScreenHeight:()=>window.screen.height-35*window.screen.height/100},watch:{zoom_countdown(e){e<=18e5&&(this.show_button=!0)}},created(){this.initialize(),this.initializeLessonResources()},mounted(){},methods:{initialize(){var e=this,t=api_url+"course-lessons/get-meta-info/"+lesson_id;e.$http.get(t).then(t=>{t.body.length>0&&t.body.forEach(t=>{e.meta[t.lesson_meta_name]=t.lesson_meta_val,"zoom_start_time"==t.lesson_meta_name&&(countdown=e.getTimeDifference(t.lesson_meta_val),e.zoom_countdown=countdown<0?0:countdown,e.countdown_container=e.$refs.meeting_countdown)})},e=>{})},initializeLessonResources(){var e=this,t=api_url+"media/get-lesson-resources/"+lesson_id;e.$http.get(t).then(t=>{t.body.length>0&&t.body.forEach((t,o)=>{t.loading=!1,t.percent_loading_active=!1,t.percent_loading=0,e.resources.push(t)})},e=>{})},transformSlotProps(e){const t={};return Object.entries(e).forEach(([e,o])=>{t[e]=o<10?`0${o}`:String(o)}),t},hideSkills(){this.skills_container=!1},getTimeDifference(e){var t=moment.tz.guess();return moment(e).tz(this.meta.zoom_timezone).diff(moment().tz(t).format())},formatDate:e=>moment(e).format("LLL"),replaceString:(e,t,o)=>e.replace(t,o),joinClass(){var e=this;e.join_loading=!0;var t=api_url+"lessons/join-class/"+lesson_id;e.$http.post(t,{slug:course_slug}).then(t=>{"success"==t.body.status&&(window.open(e.meta.zoom_url,"_blank"),(t.body.data.hasOwnProperty("certified_url")&&""!==t.body.data.certified_url||t.body.data.hasOwnProperty("requireCertifiedPaid")&&2!=t.body.data.requireCertifiedPaid)&&(e.certified_url=t.body.data.certified_url,e.requireCertifiedPaid=t.body.data.requireCertifiedPaid,e.certified_approved_dialog=!0)),e.zoom_link=!0,e.join_loading=!1},t=>{e.join_loading=!1})},getExt(e){var t=e,o=t.split("/"),i=o[o.length-1].split(".");return i[1]},getExtIcon(e){var t=e,o=t.split("/"),i=o[o.length-1].split("."),n="";switch(i[1]){case"pdf":n="pdf";break;case"docx":case"doc":n="word";break;case"ppt":case"pptx":case"ppt":n="powerpoint";break;case"xls":n="excel";break;default:n="document"}return n},saveFile(e,t){var o=this;t=void 0===t?o:t;var i=e.substring(e.lastIndexOf("/")+1).split("?")[0];o.$http.get(e,{responseType:"blob",progress(e){e.lengthComputable&&(t.percent_loading_active=!0,t.percent_loading=e.loaded/e.total*100)}}).then(e=>{var t=document.createElement("a");t.href=window.URL.createObjectURL(e.body),t.download=i,t.style.display="none",document.body.appendChild(t),t.click(),delete t})}}});
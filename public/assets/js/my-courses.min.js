let vm=new Vue({vuetify:vuetify,el:"#app-container",data:{nav_tab:null,notifications:[],loading:!1,search:"",courses:[],filtered_courses:[]},computed:{},watch:{search(){this.searchCourse()}},created(){window.onload=(()=>{check_google_user()}),this.initialize()},mounted(){},methods:{initialize(){var e=api_url+"courses/get-own-courses/"+uid;this.loading=!0,this.$http.get(e).then(e=>{this.loading=!1,this.courses=e.body,this.filtered_courses=e.body},e=>{})},searchCourse(){var e=this.search;this.filtered_courses=this.courses.filter(a=>a.title.toLowerCase().includes(e.toLowerCase()))},save(){var e=this;e.loading=!0;var a=e.editedItem;let t=new FormData;t.append("featured_image",a.featured_image),t.append("title",a.title),t.append("duration",a.duration),t.append("price",parseFloat(a.price)),t.append("category_id",a.category_id),t.append("subcategory_id",a.subcategory_id),t.append("level",a.level),t.append("active",a.active),t.append("platform_owner",a.platform_owner),t.append("meta",JSON.stringify(a.meta));var s=e.editedIndex;if(s>-1){t.append("user_id",a.user_id),t.append("course_id",a.course_id);var i=api_url+"courses/update";e.$http.post(i,t).then(t=>{"success"==t.body.status&&(a.featured_image=t.body.data.featured_image,a.slug=t.body.data.slug,Object.assign(e.courses[s],a)),e.close(),e.loading=!1},a=>{e.loading=!1})}else{i=api_url+"courses/create";e.$http.post(i,t).then(t=>{a.date=current_date,"success"==t.body.status&&(a.course_id=t.body.data.course_id,a.slug=t.body.data.slug,a.featured_image=t.body.data.featured_image,e.courses.push(a)),e.close(),e.loading=!1},a=>{e.loading=!1,e.close()})}},formatDate:(e,a)=>moment(e).format(a)}});